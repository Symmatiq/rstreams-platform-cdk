"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CognitoStack = void 0;
const cdk = require("aws-cdk-lib");
const constructs_1 = require("constructs");
/**
 * Creates the Cognito nested stack for RStreams
 */
class CognitoStack extends constructs_1.Construct {
    constructor(scope, id) {
        super(scope, id);
        // Create the nested stack using the CloudFormation template URL
        this.nestedStack = new cdk.CfnStack(this, 'CognitoNestedStack', {
            templateUrl: cdk.Fn.findInMap('RStreamsPlatformMappingsRegionMapA6B22AAF', cdk.Aws.REGION, 'CognitoTemplateUrl'),
            timeoutInMinutes: 60
        });
    }
    /**
     * Get the Cognito Identity Pool ID output
     */
    getIdentityPoolId() {
        return cdk.Fn.getAtt(this.nestedStack.logicalId, 'Outputs.IdentityPoolId').toString();
    }
}
exports.CognitoStack = CognitoStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29nbml0by1zdGFjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNvZ25pdG8tc3RhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQW1DO0FBQ25DLDJDQUF1QztBQUd2Qzs7R0FFRztBQUNILE1BQWEsWUFBYSxTQUFRLHNCQUFTO0lBR3pDLFlBQVksS0FBZ0IsRUFBRSxFQUFVO1FBQ3RDLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakIsZ0VBQWdFO1FBQ2hFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxvQkFBb0IsRUFBRTtZQUM5RCxXQUFXLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQzNCLDJDQUEyQyxFQUMzQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFDZCxvQkFBb0IsQ0FDckI7WUFDRCxnQkFBZ0IsRUFBRSxFQUFFO1NBQ3JCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7T0FFRztJQUNJLGlCQUFpQjtRQUN0QixPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLHdCQUF3QixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDeEYsQ0FBQztDQUNGO0FBdkJELG9DQXVCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcbmltcG9ydCB7IGdldFRlbXBsYXRlVXJsIH0gZnJvbSAnLi4vaGVscGVycy9tYXBwaW5ncyc7XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgQ29nbml0byBuZXN0ZWQgc3RhY2sgZm9yIFJTdHJlYW1zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2duaXRvU3RhY2sgZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICBwdWJsaWMgcmVhZG9ubHkgbmVzdGVkU3RhY2s6IGNkay5DZm5TdGFjaztcblxuICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nKSB7XG4gICAgc3VwZXIoc2NvcGUsIGlkKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgbmVzdGVkIHN0YWNrIHVzaW5nIHRoZSBDbG91ZEZvcm1hdGlvbiB0ZW1wbGF0ZSBVUkxcbiAgICB0aGlzLm5lc3RlZFN0YWNrID0gbmV3IGNkay5DZm5TdGFjayh0aGlzLCAnQ29nbml0b05lc3RlZFN0YWNrJywge1xuICAgICAgdGVtcGxhdGVVcmw6IGNkay5Gbi5maW5kSW5NYXAoXG4gICAgICAgICdSU3RyZWFtc1BsYXRmb3JtTWFwcGluZ3NSZWdpb25NYXBBNkIyMkFBRicsXG4gICAgICAgIGNkay5Bd3MuUkVHSU9OLFxuICAgICAgICAnQ29nbml0b1RlbXBsYXRlVXJsJ1xuICAgICAgKSxcbiAgICAgIHRpbWVvdXRJbk1pbnV0ZXM6IDYwXG4gICAgfSk7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBHZXQgdGhlIENvZ25pdG8gSWRlbnRpdHkgUG9vbCBJRCBvdXRwdXRcbiAgICovXG4gIHB1YmxpYyBnZXRJZGVudGl0eVBvb2xJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBjZGsuRm4uZ2V0QXR0KHRoaXMubmVzdGVkU3RhY2subG9naWNhbElkLCAnT3V0cHV0cy5JZGVudGl0eVBvb2xJZCcpLnRvU3RyaW5nKCk7XG4gIH1cbn1cbiJdfQ==