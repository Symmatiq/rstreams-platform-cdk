#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const rstreams_platform_stack_1 = require("../lib/rstreams-platform-stack");
const app = new cdk.App();
// Get the stack name from context or CDK_STACK_NAME environment variable (set by CDK CLI)
// This ensures the --stack-name parameter is respected
const stackName = process.env.CDK_STACK_NAME || app.node.tryGetContext('stack-name') || 'RStreamsPlatformStack';
new rstreams_platform_stack_1.RStreamsPlatformStack(app, stackName, {
    /* If you don't specify 'env', this stack will be environment-agnostic. */
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: process.env.CDK_DEFAULT_REGION
    },
    description: 'RStreams Platform Stack',
    environmentName: app.node.tryGetContext('environment') || 'dev', // Use environmentName and a default like 'dev'
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnN0cmVhbXMtcGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyc3RyZWFtcy1wbGF0Zm9ybS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLDRFQUF1RTtBQUV2RSxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUMxQiwwRkFBMEY7QUFDMUYsdURBQXVEO0FBQ3ZELE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxJQUFJLHVCQUF1QixDQUFDO0FBRWhILElBQUksK0NBQXFCLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRTtJQUN4QywwRUFBMEU7SUFDMUUsR0FBRyxFQUFFO1FBQ0gsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CO1FBQ3hDLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtLQUN2QztJQUNELFdBQVcsRUFBRSx5QkFBeUI7SUFDdEMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEtBQUssRUFBRSwrQ0FBK0M7Q0FDakgsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IFJTdHJlYW1zUGxhdGZvcm1TdGFjayB9IGZyb20gJy4uL2xpYi9yc3RyZWFtcy1wbGF0Zm9ybS1zdGFjayc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG4vLyBHZXQgdGhlIHN0YWNrIG5hbWUgZnJvbSBjb250ZXh0IG9yIENES19TVEFDS19OQU1FIGVudmlyb25tZW50IHZhcmlhYmxlIChzZXQgYnkgQ0RLIENMSSlcbi8vIFRoaXMgZW5zdXJlcyB0aGUgLS1zdGFjay1uYW1lIHBhcmFtZXRlciBpcyByZXNwZWN0ZWRcbmNvbnN0IHN0YWNrTmFtZSA9IHByb2Nlc3MuZW52LkNES19TVEFDS19OQU1FIHx8IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ3N0YWNrLW5hbWUnKSB8fCAnUlN0cmVhbXNQbGF0Zm9ybVN0YWNrJztcblxubmV3IFJTdHJlYW1zUGxhdGZvcm1TdGFjayhhcHAsIHN0YWNrTmFtZSwge1xuICAvKiBJZiB5b3UgZG9uJ3Qgc3BlY2lmeSAnZW52JywgdGhpcyBzdGFjayB3aWxsIGJlIGVudmlyb25tZW50LWFnbm9zdGljLiAqL1xuICBlbnY6IHtcbiAgICBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULFxuICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OXG4gIH0sXG4gIGRlc2NyaXB0aW9uOiAnUlN0cmVhbXMgUGxhdGZvcm0gU3RhY2snLFxuICBlbnZpcm9ubWVudE5hbWU6IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2Vudmlyb25tZW50JykgfHwgJ2RldicsIC8vIFVzZSBlbnZpcm9ubWVudE5hbWUgYW5kIGEgZGVmYXVsdCBsaWtlICdkZXYnXG59KTtcblxuYXBwLnN5bnRoKCk7XG4iXX0=