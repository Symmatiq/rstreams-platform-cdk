"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createTruncatedName = void 0;
/**
 * Creates a truncated resource name that fits within AWS's 64-character limit.
 *
 * @param stack The stack name (will be truncated to 15 chars)
 * @param id The resource ID
 * @param resourceType Type of resource (e.g., 'Role', 'ApiRole', etc.)
 * @param env Environment name (will be truncated to 6 chars)
 * @param separator Separator character between parts (default: '-')
 * @returns Truncated resource name string
 */
function createTruncatedName(stack, id, resourceType, env, separator = '-') {
    // Truncate required parts
    const truncatedStack = stack.substring(0, 15);
    const truncatedEnv = env.substring(0, 6);
    // Calculate remaining characters for ID
    // Format: [env]-[stack]-[id]-[resourceType]
    // Add 3 for the separators (assuming separator is 1 character)
    const usedChars = truncatedEnv.length + truncatedStack.length + resourceType.length + 3 * separator.length;
    const maxIdLength = 64 - usedChars;
    // Truncate ID if needed
    const truncatedId = id.length > maxIdLength ? id.substring(0, maxIdLength) : id;
    // Construct the name with environment at the beginning
    return [truncatedEnv, truncatedStack, truncatedId, resourceType].join(separator);
}
exports.createTruncatedName = createTruncatedName;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmFtZS10cnVuY2F0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmFtZS10cnVuY2F0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBOzs7Ozs7Ozs7R0FTRztBQUNILFNBQWdCLG1CQUFtQixDQUNqQyxLQUFhLEVBQ2IsRUFBVSxFQUNWLFlBQW9CLEVBQ3BCLEdBQVcsRUFDWCxZQUFvQixHQUFHO0lBRXZCLDBCQUEwQjtJQUMxQixNQUFNLGNBQWMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5QyxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUV6Qyx3Q0FBd0M7SUFDeEMsNENBQTRDO0lBQzVDLCtEQUErRDtJQUMvRCxNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztJQUMzRyxNQUFNLFdBQVcsR0FBRyxFQUFFLEdBQUcsU0FBUyxDQUFDO0lBRW5DLHdCQUF3QjtJQUN4QixNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUVoRix1REFBdUQ7SUFDdkQsT0FBTyxDQUFDLFlBQVksRUFBRSxjQUFjLEVBQUUsV0FBVyxFQUFFLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNuRixDQUFDO0FBdEJELGtEQXNCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlcyBhIHRydW5jYXRlZCByZXNvdXJjZSBuYW1lIHRoYXQgZml0cyB3aXRoaW4gQVdTJ3MgNjQtY2hhcmFjdGVyIGxpbWl0LlxuICogXG4gKiBAcGFyYW0gc3RhY2sgVGhlIHN0YWNrIG5hbWUgKHdpbGwgYmUgdHJ1bmNhdGVkIHRvIDE1IGNoYXJzKVxuICogQHBhcmFtIGlkIFRoZSByZXNvdXJjZSBJRFxuICogQHBhcmFtIHJlc291cmNlVHlwZSBUeXBlIG9mIHJlc291cmNlIChlLmcuLCAnUm9sZScsICdBcGlSb2xlJywgZXRjLilcbiAqIEBwYXJhbSBlbnYgRW52aXJvbm1lbnQgbmFtZSAod2lsbCBiZSB0cnVuY2F0ZWQgdG8gNiBjaGFycylcbiAqIEBwYXJhbSBzZXBhcmF0b3IgU2VwYXJhdG9yIGNoYXJhY3RlciBiZXR3ZWVuIHBhcnRzIChkZWZhdWx0OiAnLScpXG4gKiBAcmV0dXJucyBUcnVuY2F0ZWQgcmVzb3VyY2UgbmFtZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRydW5jYXRlZE5hbWUoXG4gIHN0YWNrOiBzdHJpbmcsXG4gIGlkOiBzdHJpbmcsXG4gIHJlc291cmNlVHlwZTogc3RyaW5nLFxuICBlbnY6IHN0cmluZyxcbiAgc2VwYXJhdG9yOiBzdHJpbmcgPSAnLSdcbik6IHN0cmluZyB7XG4gIC8vIFRydW5jYXRlIHJlcXVpcmVkIHBhcnRzXG4gIGNvbnN0IHRydW5jYXRlZFN0YWNrID0gc3RhY2suc3Vic3RyaW5nKDAsIDE1KTtcbiAgY29uc3QgdHJ1bmNhdGVkRW52ID0gZW52LnN1YnN0cmluZygwLCA2KTtcbiAgXG4gIC8vIENhbGN1bGF0ZSByZW1haW5pbmcgY2hhcmFjdGVycyBmb3IgSURcbiAgLy8gRm9ybWF0OiBbZW52XS1bc3RhY2tdLVtpZF0tW3Jlc291cmNlVHlwZV1cbiAgLy8gQWRkIDMgZm9yIHRoZSBzZXBhcmF0b3JzIChhc3N1bWluZyBzZXBhcmF0b3IgaXMgMSBjaGFyYWN0ZXIpXG4gIGNvbnN0IHVzZWRDaGFycyA9IHRydW5jYXRlZEVudi5sZW5ndGggKyB0cnVuY2F0ZWRTdGFjay5sZW5ndGggKyByZXNvdXJjZVR5cGUubGVuZ3RoICsgMyAqIHNlcGFyYXRvci5sZW5ndGg7XG4gIGNvbnN0IG1heElkTGVuZ3RoID0gNjQgLSB1c2VkQ2hhcnM7XG4gIFxuICAvLyBUcnVuY2F0ZSBJRCBpZiBuZWVkZWRcbiAgY29uc3QgdHJ1bmNhdGVkSWQgPSBpZC5sZW5ndGggPiBtYXhJZExlbmd0aCA/IGlkLnN1YnN0cmluZygwLCBtYXhJZExlbmd0aCkgOiBpZDtcbiAgXG4gIC8vIENvbnN0cnVjdCB0aGUgbmFtZSB3aXRoIGVudmlyb25tZW50IGF0IHRoZSBiZWdpbm5pbmdcbiAgcmV0dXJuIFt0cnVuY2F0ZWRFbnYsIHRydW5jYXRlZFN0YWNrLCB0cnVuY2F0ZWRJZCwgcmVzb3VyY2VUeXBlXS5qb2luKHNlcGFyYXRvcik7XG59ICJdfQ==